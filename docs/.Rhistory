the_great_filter <- c("color", "national origin", "religion", "sexual orientation", "age", "disability", "gender", "sex", "marital status", "veteran status", "dental", "ethnicity", "race", "genetic information")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8)) %>%
separate_longer_delim(About.the.job, ",")
the_great_filter <- c("color", "national origin", "religion", "sexual orientation", "age", "disability", "gender", "sex", "marital status", "veteran status", "dental", "ethnicity", "race", "genetic information")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8)) %>%
separate_longer_delim(About.the.job, ",")
library(dplyr)
library(tidyr)
library(ggplot2)
library(stringr)
raw_data <- read.csv("https://raw.githubusercontent.com/samato0624/DATA607_Project3/main/Raw_Data.csv")
the_great_filter <- c("color", "national origin", "religion", "sexual orientation", "age", "disability", "gender", "sex", "marital status", "veteran status", "dental", "ethnicity", "race", "genetic information")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8)) %>%
separate_longer_delim(About.the.job, ",")
skill_count <- skills %>%
count(About.the.job) %>%
mutate(About.the.job = str_remove_all(About.the.job, "[0-9]")) %>%
filter(!str_detect(`About.the.job`, paste(the_great_filter, collapse = "|"))) %>%
arrange(desc(n))
print(skills)
print(skill_count)
the_great_filter <- c("color", "national origin", "religion", "sexual orientation", "age", "disability", "gender", "sex", "marital status", "veteran status", "dental", "ethnicity", "race", "genetic information")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8)) %>%
separate_longer_delim(About.the.job, ",")
skill_count <- skills %>%
count(About.the.job) %>%
mutate(About.the.job = str_remove_all(About.the.job, "[0-9]")) %>%
filter(!str_detect(`About.the.job`, paste(the_great_filter, collapse = "|"))) %>%
arrange(desc(n)) %>%
top_n(20)
print(skills)
print(skill_count)
ggplot(skill_count, aes(x = About.the.job)) + geom_bar(stat = "n", fill = "steelblue") +
theme_classic() +
coord_flip()
ggplot(skill_count, aes(x = About.the.job)) + geom_bar(stat = n, fill = "steelblue") +
theme_classic() +
coord_flip()
ggplot(skill_count, aes(x = About.the.job, y = n)) + geom_bar(stat = "identity", fill = "steelblue") +
theme_classic() +
coord_flip() +
labs(x = "Skills", y = "Count")
ggplot(skill_count, aes(x = reorder(About.the.job, n), y = n)) + geom_bar(stat = "identity", fill = "steelblue") +
theme_classic() +
coord_flip() +
labs(x = "Skills", y = "Count")
the_great_filter <- c("color", "national origin", "religion", "sexual orientation", "age", "disability", "gender", "sex", "marital status", "veteran status", "dental", "ethnicity", "race", "genetic information")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8)) %>%
separate_longer_delim(About.the.job, ",")
skill_count <- skills %>%
count(About.the.job) %>%
mutate(About.the.job = str_remove_all(About.the.job, "[0-9]")) %>%
filter(!str_detect(`About.the.job`, paste(the_great_filter, collapse = "|"))) %>%
arrange(desc(n)) %>%
print(skills)
print(skill_count)
the_great_filter <- c("color", "national origin", "religion", "sexual orientation", "age", "disability", "gender", "sex", "marital status", "veteran status", "dental", "ethnicity", "race", "genetic information")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8)) %>%
separate_longer_delim(About.the.job, " ")
skill_count <- skills %>%
count(About.the.job) %>%
mutate(About.the.job = str_remove_all(About.the.job, "[0-9]")) %>%
filter(!str_detect(`About.the.job`, paste(the_great_filter, collapse = "|"))) %>%
arrange(desc(n)) %>%
print(skills)
print(skill_count)
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(tidyverse)
library(dplyr)
data_scientist_skills_list <- read.csv("https://raw.githubusercontent.com/samato0624/DATA607_Project3/main/docs/data_scientist_skills.csv")
data_scientist_skills_list <- data_scientist_skills_list[-1,]
unique_skills_list <- data.frame(skills_list = unlist(data_scientist_skills_list))
unique_skills_list <- unique_skills_list %>%
filter(skills_list != "") %>%
group_by(skills_list) %>%
mutate(count = length(skills_list)) %>%
distinct(skills_list,count) %>%
arrange(desc(count), skills_list)
rownames(unique_skills_list) <- NULL
final_skills_list <- unique_skills_list[c(1:9,12,13,17,19,22,24,27:29,32,34,36:37,39,40,43,45,47:50,52,53,58,59,61,62,64,66,71,72,76,77,79:81,83:87),1]
final_skills_list <- final_skills_list %>% arrange(skills_list)
final_skills_list$skills_list <- tolower(final_skills_list$skills_list)
final_skills_list$skills_list[38] <- " r "
final_skills_list
raw_data <- read.csv("https://raw.githubusercontent.com/samato0624/DATA607_Project3/main/Raw_Data.csv")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8))
skills
skills_data <- final_skills_list
for(i in 1:nrow(skills_data)) {
skills_data$postings[i] <- as.numeric(skills %>% filter(str_detect(tolower(About.the.job),skills_data$skills_list[i])) %>% summarise(n = n()))
}
skills_data <- skills_data %>% filter(postings != 0)
for(i in 1:nrow(skills_data)) {
skills_data$avg_min_sal[i] <- as.numeric(skills %>% drop_na(Pay_Min) %>% filter(str_detect(tolower(About.the.job),skills_data$skills_list[i])) %>% summarise(avg = mean(Pay_Min)))
}
skills_data_postings <- skills_data %>% arrange(desc(postings))
skills_data_postings
skills_data_sal <- skills_data %>% filter(postings >= 5) %>% arrange(desc(avg_min_sal))
skills_data_sal
knitr::opts_chunk$set(echo = TRUE)
library(tidyr)
library(tidyverse)
library(dplyr)
data_scientist_skills_list <- read.csv("https://raw.githubusercontent.com/samato0624/DATA607_Project3/main/docs/data_scientist_skills.csv")
data_scientist_skills_list <- data_scientist_skills_list[-1,]
unique_skills_list <- data.frame(skills_list = unlist(data_scientist_skills_list))
unique_skills_list <- unique_skills_list %>%
filter(skills_list != "") %>%
group_by(skills_list) %>%
mutate(count = length(skills_list)) %>%
distinct(skills_list,count) %>%
arrange(desc(count), skills_list)
rownames(unique_skills_list) <- NULL
final_skills_list <- unique_skills_list[c(1:9,12,13,17,19,22,24,27:29,32,34,36:37,39,40,43,45,47:50,52,53,58,59,61,62,64,66,71,72,76,77,79:81,83:87),1]
final_skills_list <- final_skills_list %>% arrange(skills_list)
final_skills_list$skills_list <- tolower(final_skills_list$skills_list)
final_skills_list$skills_list[38] <- " r "
final_skills_list
raw_data <- read.csv("https://raw.githubusercontent.com/samato0624/DATA607_Project3/main/Raw_Data.csv")
skills <- raw_data %>%
mutate(Pay.Range = (str_remove_all(Pay.Range, "[$yr////, ]"))) %>%
mutate(Pay_Min = as.numeric(str_extract(Pay.Range, "\\d+(?=-)"))) %>%
mutate(Pay_Max = as.numeric(str_extract(Pay.Range, "(?<=-)[0-9]+"))) %>%
select(c(2, 3, 5, 6, 7, 8))
skills
skills_data <- final_skills_list
for(i in 1:nrow(skills_data)) {
skills_data$postings[i] <- as.numeric(skills %>% filter(str_detect(tolower(About.the.job),skills_data$skills_list[i])) %>% summarise(n = n()))
}
skills_data <- skills_data %>% filter(postings != 0)
for(i in 1:nrow(skills_data)) {
skills_data$avg_min_sal[i] <- as.numeric(skills %>% drop_na(Pay_Min) %>% filter(str_detect(tolower(About.the.job),skills_data$skills_list[i])) %>% summarise(avg = mean(Pay_Min)))
}
skills_data_postings <- skills_data %>% arrange(desc(postings))
skills_data_postings
skills_data_sal <- skills_data %>% filter(postings >= 5) %>% arrange(desc(avg_min_sal))
skills_data_sal
skills_data_sal$skills_list <- factor(skills_data_sal$skills_list, levels = skills_data_sal$skills_list[order(skills_data_sal$postings, decreasing = FALSE)])
ggplot(skills_data_sal, aes(x = skills_list, y = postings, fill = skills_list)) +
geom_bar(stat = "identity", show.legend = FALSE) +
labs(title = "Number of Postings by Skill", x = "Skill", y = "Frequency") +
coord_flip()
skills_data_sal$skills_list <- factor(skills_data_sal$skills_list, levels = skills_data_sal$skills_list[order(skills_data_sal$avg_min_sal, decreasing = FALSE)])
ggplot(skills_data_sal, aes(x = skills_list, y = avg_min_sal, fill = skills_list)) +
geom_bar(stat = "identity", show.legend = FALSE) +
labs(title = "Average Minimum Salary by Skill", x = "Skill", y = "Average Minimum Salary (dollars per year)") +
coord_flip()
